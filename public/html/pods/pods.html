<div  data-ng-controller="PODCtrl">
    <table width="800px;">
        <tr width="100%;" height="200px;" class = "employee_header">
            <td  width="10%;">
                <div ng-repeat = "ancestor in currentUser.ancestors">{{ancestor}} ></div>


            </td>
            <td colspan="2">
                <div class ="profile_att">Filter:</div>
                <form name="detailForm" role="form" class="form-horizontal">
                    <select id="filterParams" name = "value" data-ng-model="filter.param" required>
                        <option value="">Select filter params...</option>
                        <option value="location">Location</option>
                        <option value="name">POD's name</option>
                        <option value="description">POD's description</option>
                    </select>

                    <input type = "text" name ="key"  data-ng-model="filter.value" required/>
                    <button data-ng-click="filterPODs()" data-ng-disabled="noChange() || detailForm.$invalid" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-search"></span></button>
                    <button data-ng-click="resetPODFilter()"  class="btn btn-default btn-sm">Reset</button>
                </form>

            <td width="18%;">
                <button type="button" class="btn btn-default btn-sm"  style="float: right;">
                    <span class="glyphicon glyphicon-user"></span><div ng-repeat = "role in currentUser.roles">{{role}}</div>
                </button>
            </td>


        <tr ng-repeat = "pod in pods">
            <td width="15%;" style = "background-color: ghostwhite; padding-right: 20px;">
                <a href = "/pod/{{pod.id}}"><div class = "pods"/></a>
            </td>
            <td colspan="2" class ="boarder">
                <div id ="profile_attr"> Name:
                    <div id = "profile_value" ng-if="!pod._edit">{{pod.profile.name}}</div>
                    <input id = "profile_value"type="text" ng-model="pod.profile.name" ng-if="pod._edit">
                </div>


                <div id ="profile_attr"> Location:
                    <div id = "profile_value" ng-if="!pod._edit">{{pod.profile.location}}</div>
                    <input id = "profile_value" type="text" ng-model="pod.profile.location" ng-if="pod._edit">
                </div>

                <div id ="profile_attr"> Description:
                    <div id = "profile_value" ng-if="!pod._edit">{{pod.profile.description}}</div>
                    <input id = "profile_value" type="text" ng-model="pod.profile.description" ng-if="pod._edit">
                </div>

                <div id ="profile_attr"> Parent: <div id = "profile_value">{{pod.parentId}}</div></div>

            </td>
            <td class="boarder" align="center">
                <button data-ng-click="deletePOD(pod.id)" ng-if="!pod._edit" data-ng-show="pod.id" class="btn btn-default btn-sm">
                    <span class="glyphicon glyphicon-remove"></span>Delete</button>

                <button data-ng-click="editPOD(pod)" ng-if="!pod._edit" class="btn btn-default btn-sm" >
                    <span class="glyphicon glyphicon-pencil"></span> Edit</button>

                <button data-ng-click="submitPOD(pod)" ng-if="pod._edit" class="btn btn-default btn-sm" >
                    <span class="glyphicon glyphicon-ok"></span> Submit</button>
            </td>
            <hr color="red"/>
        </tr>
        <tr height="300px;">
            <td colspan="2"><td>
            <td>
                <a href = "/pod/newPOD" class="btn btn-default btn-sm" >
                    <span class="glyphicon glyphicon-plus-sign"></span> Add POD</a>
            </td>
        </tr>
    </table>
</div>